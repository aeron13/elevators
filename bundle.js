(()=>{"use strict";class t{constructor(t,e){this.number=t,this.button=document.createElement("button"),this.button.classList.add("floor-button"),this.button.addEventListener("click",e),this.element=document.createElement("div"),this.element.classList.add("floor"),this.element.append(this.button)}}class e{constructor(t,e){this.number=t,this.element=document.createElement("button"),this.element.classList.add("elevator-button"),this.element.addEventListener("click",e),this.element.innerText=`${this.number}`}}class s{constructor(t,s){this.id=t,this.floor=0,this.speed=500,this.doorsOpen=!1,this.element=document.createElement("div"),this.element.classList.add("elevator"),this.element.style.left=20*this.id+25+"%",this.buttons=document.createElement("div");for(let t=0;t<=s;t++){const s=new e(t,(e=>{e.preventDefault(),this.goToFloor(t)}));this.buttons.prepend(s.element)}this.element.append(this.buttons)}goToFloor(t){const e=Math.abs(t-this.floor),s=this.speed*e;this.closeDoors(),this.element.style.transform=`translateY(-${100*t}%)`,this.element.style.transitionDuration=`${s}ms`,this.floor=t,setTimeout((()=>{this.openDoors()}),s)}closeDoors(){this.doorsOpen=!1,this.buttons.style.opacity="0"}openDoors(){this.doorsOpen=!1,this.buttons.style.opacity="1"}}(new class{constructor(){this.height=4,this.elevators=[];for(let t=0;t<3;t++){const e=new s(t,this.height);this.elevators.push(e)}this.floors=[];for(let e=0;e<=this.height;e++){const s=new t(e,(t=>{t.preventDefault(),this.callElevator(e)}));this.floors.push(s)}}callElevator(t){const e=this.elevators.find((e=>e.floor===t));e?e.goToFloor(t):(this.elevators.sort(((e,s)=>Math.abs(t-e.floor)-Math.abs(t-s.floor))),this.elevators[0].goToFloor(t))}render(){var t;const e=document.createElement("div");e.classList.add("palace"),this.floors.forEach((t=>{e.prepend(t.element)})),this.elevators.forEach((t=>{e.append(t.element)})),null===(t=document.querySelector("#app"))||void 0===t||t.append(e)}}).render()})();